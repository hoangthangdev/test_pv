@using WebTest.ViewModel
@model List<OrderOutDto>
@{
    ViewData["Title"] = "A web page";
}

<h1>View</h1>

<h4>Create new order</h4>
<div class="container">
    <form asp-controller="Home" asp-action="Index"
          data-ajax="true"
          data-ajax-method="Get"
          data-ajax-update="product"
          data_ajax_mode="replace">
        <div class="row">
            <label class="col-4">Enter category to search</label>
            <div class="col-3">
                <input type="text" id="textSearch" name="textSearch" value="@ViewBag.TextSearch"/>
            </div>
            <div class="col-5">
                <button type="submit">Search</button>
            </div>
        </div>
        <div>
            <table>
                <thead>
                <tr>
                    <th>Category Name</th>
                    <th>Product Name</th>
                    <th>Customer Name</th>
                    <th>Order Datetime</th>
                    <th>Amount</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var order in Model)
                {
                    <tr>

                    </tr>
                }
                </tbody>
            </table>
            <div>
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                        <li class="page-item"><a class="page-link" href="javascript:void(0)"  asp-controller="Home" asp-action="Index"  asp-route-pageIndex="1"> &laquo; First </a></li>
                        <li class="page-item"><a class="page-link" href="javascript:void(0)"  asp-controller="Home" asp-action="Index"  asp-route-pageIndex="@((ViewBag.PageIndex - 1) == 0? 1:ViewBag.PageIndex - 1)">Previous</a></li>
                        @for (int i = 1; i <= ViewBag.TotalRow / 10; i++)
                        {
                            <li class="page-item"><a class="page-link" href="javascript:void(0)"  asp-controller="Home" asp-action="Index"  asp-route-pageIndex="@i">@i</a></li>
                        }
                        <li class="page-item"><a class="page-link" href="javascript:void(0)"  asp-controller="Home" asp-action="Index"  asp-route-pageIndex="@((ViewBag.TotalRow / 10) >= (ViewBag.PageIndex + 1)?ViewBag.PageIndex + 1:ViewBag.PageIndex )">Next</a></li>
                        <li class="page-item"><a class="page-link" href="javascript:void(0)"  asp-controller="Home" asp-action="Index"  asp-route-pageIndex="@(ViewBag.TotalRow / 10)">Last &raquo;</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </form>
    <div class="float-right pr-5">
        <a asp-controller="Home" asp-action="CreateOrder">Create new order</a>
    </div>
</div>
<script>
    function isIncognito(callback){
        var fs = window.RequestFileSystem || window.webkitRequestFileSystem;
        if (!fs) {
            callback(false);
        } else {
            fs(window.TEMPORARY,
                100,
                callback.bind(undefined, false),
                callback.bind(undefined, true)
            );
        }
    }
    isIncognito(function(itIs) {
        if (itIs) return false;
        else return true;
    });
</script>